(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["x-11"],{"182e":function(t,e,a){},"185c":function(t,e,a){"use strict";var i=a("79ac"),s=a.n(i);s.a},"3e33":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-item exposure-item",class:"product-"+t.listMode,attrs:{"data-link":t.data.link},on:{click:function(e){return t.onTapNext(e,t.data)}}},[a("div",{staticClass:"product-row"},[t.data.image?a("div",{staticClass:"product-media"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.data.image,expression:"data.image"}],staticClass:"product-img"}),1==t.data.isShowLootAll?a("img",{staticClass:"image-lootAll",attrs:{src:"https://img1.haoshiqi.net/miniapp/yitingshou_6b85cdec95.png"}}):t._e(),2==t.data.isShowLootAll?a("img",{staticClass:"image-lootAll",attrs:{src:"https://img1.haoshiqi.net/wxapp/img/icon_lootAll_9264ebba09.png"}}):t._e()]):t._e(),t.data.countDownInfo?a("div",{staticClass:"product-countdown"},[t._v("\n      "+t._s(t.data.countDownInfo)+" 结束\n    ")]):t._e()]),a("div",{staticClass:"product-intro"},[a("div",{staticClass:"product-info"},[a("div",{staticClass:"product-title max-line-2"},[2==t.data.merchantType?a("span",{staticClass:"title-zy"},[t._v("自营")]):t._e(),t._v("\n        "+t._s(t.data.title)+"\n      ")]),t.data.desc?a("div",{staticClass:"product-desc"},[t._v(t._s(t.data.desc))]):t._e()]),t.data.tags.length>0?a("div",{staticClass:"product-tags"},[t._l(t.data.tags.slice(0,2),(function(e,i){return a("span",{key:i,staticClass:"tags"},[t._v(t._s(e.text))])})),t.data.remainTime?a("span",{staticClass:"remain-time"},[t._v(t._s(t.data.remainTime))]):t._e()],2):t._e(),a("div",{staticClass:"row-expire-day"},[t.data.expired_date_text?a("span",{staticClass:"row-left-day"},[t._v(t._s(t.data.expired_date_text))]):t._e()]),a("div",{staticClass:"product-sub"},[a("p",{staticClass:"row2-price-box"},[a("span",{staticClass:"row2-price"},[a("span",{staticClass:"price-integer"},[t._v(t._s(t.data.price.price_yuan))]),a("span",{staticClass:"price-decimals"},[t._v("."+t._s(t.data.price.price_fen))])]),a("span",{staticClass:"row2-market"},[t._v(t._s(t.data.market_price))])]),t.data.num?a("span",{staticClass:"product-num"},[t._v("x "+t._s(t.data.num))]):t._e()])])])},s=[],r=(a("b54a"),{name:"dwd-card",props:{data:Object,listMode:{type:String,default:"list"}},methods:{onTapNext:function(t,e){e.onLine&&e.inStock&&e.link&&this.$onUrlPage(t)}}}),o=r,c=(a("c4fe"),a("2877")),n=Object(c["a"])(o,i,s,!1,null,"7a3e2706",null);e["a"]=n.exports},"79ac":function(t,e,a){},b7cb:function(t,e,a){},c4fe:function(t,e,a){"use strict";var i=a("b7cb"),s=a.n(i);s.a},e755:function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dwd-page",{attrs:{"is-header":""},scopedSlots:t._u([{key:"header",fn:function(){return[i("dwd-header",{ref:"header",attrs:{fixed:"",title:t.title}})]},proxy:!0}])},[i("dwd-scroll",{staticClass:"search-scroll",attrs:{finished:t.finished,"list-len":1,"is-loading":t.isLoading,"finished-tip":t.finishedTip,"immediate-check":t.scrollCheck},on:{onScrollToLower:t.onScrollToLower},model:{value:t.pullLoading,callback:function(e){t.pullLoading=e},expression:"pullLoading"}},[t.categoryList&&t.categoryList.length>0?i("div",{staticClass:"category-list",class:{"more-oneline":t.categoryList&&t.categoryList.length>4}},t._l(t.categoryList,(function(e,a){return i("div",{key:a,staticClass:"category-item-block"},[i("div",{staticClass:"category-item",class:{active:t.seleCategoryIndex==a},on:{click:function(i){return t.goSearchText(e,a)}}},[i("span",[t._v(t._s(e))])])])})),0):t._e(),i("div",{staticClass:"view-list"},[t.listData&&t.listData.length?i("div",{staticClass:"product-card"},t._l(t.listData,(function(t){return i("dwd-card",{key:t.id,attrs:{data:t,"list-mode":"card"}})})),1):t._e(),t.listData.length||t.isLoading?t._e():i("div",{staticClass:"no-data"},[i("div",[i("img",{staticClass:"empty-img",attrs:{src:a("2982")}}),i("div",{staticClass:"empty-text"},[t._v("暂无结果")])])])]),t.recommendList.length?i("div",{staticClass:"product-list"},[i("div",{staticClass:"list-text"},[i("span",{staticClass:"chn-text"},[t._v("猜你喜欢")]),i("span",{staticClass:"eng-text"},[t._v("GUESS YOU LIKE")])]),i("c-product-col2",{attrs:{data:t.indexListData}})],1):t._e()]),i("div",{staticClass:"view-tab",class:{tab1:!t.showSort}},[i("div",{staticClass:"tab"},[t._l(t.tabs,(function(e,a){return i("div",{key:e.text,staticClass:"tab-sub",attrs:{"data-index":a},on:{click:t.onClickTab}},[i("div",{staticClass:"view-tap"},[i("span",{staticClass:"sub-title",class:{"sub-title-red":t.clickIndex==a}},[t._v("\n            "+t._s(e.text)+"\n          ")]),e.topImg||e.botImg?i("div",{staticClass:"img-block"},[e.topImg?i("div",[i("img",{staticClass:"sub-img top",attrs:{src:t.clickIndex==a?e.topImg:t.icons}})]):t._e(),e.botImg?i("div",[i("img",{staticClass:"sub-img bottom",attrs:{src:t.clickIndex==a?e.botImg:t.icons}})]):t._e()]):t._e()])])})),i("div",{staticClass:"tab-sub",on:{click:t.toggleViewSort}},[i("div",{staticClass:"view-tap no-border"},[i("span",{staticClass:"sub-title",class:{"sub-title-red":t.expiryIndex>0||t.showSort,"no-active":1==t.searchHasExpiryDate}},[t._v("\n            "+t._s(t.expiryIndex>0?t.sortList[t.expiryIndex]:t.lastTab.text)+"\n          ")]),i("div",{staticClass:"img-block"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.showSort,expression:"showSort"}],staticClass:"sub-img top",attrs:{src:t.lastTab.topImg}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!t.showSort,expression:"!showSort"}],staticClass:"sub-img bottom",attrs:{src:t.lastTab.botImg}})])])])],2),t.showSort?i("div",{staticClass:"view-sort"},[i("div",{staticClass:"bg-alpha",on:{click:t.toggleViewSort}}),t._l(t.sortList,(function(e,a){return i("div",{key:e,staticClass:"sort",attrs:{"data-index":a},on:{click:t.onClickSort}},[i("span",{staticClass:"sort-title",class:{"sort-title-red":t.sortClickIndex==a}},[t._v(t._s(e))]),t.sortClickIndex==a?i("img",{staticClass:"sort-img",attrs:{src:t.iconSelected}}):t._e()])}))],2):t._e()])],1)},r=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("b54a"),a("bd86")),c=(a("7f7f"),a("2446")),n=(a("6f50"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row2-box"},[a("div",{staticClass:"row2-container"},[a("div",{staticClass:"row2-img-box"},[a("img",{staticClass:"row2-img",attrs:{src:t.data.image}}),a("div",{staticClass:"img-label"}),a("img",{staticClass:"row2-status-img",attrs:{src:"https://img1.haoshiqi.net/miniapp/img/sold_a64f1921fd.png"}})]),a("div",{staticClass:"row2-text-box"},[a("p",{staticClass:"row2-title max-line-2"},[2==t.data.merchant_type?a("span",{staticClass:"title-tag"},[t._v("自营")]):t._e(),t._v("\n        "+t._s(t.data.title)+"\n      ")]),t._l(t.data.tags,(function(e,i){return a("span",{key:i,staticClass:"row2-text-tag",style:{background:e.background}},[t._v(t._s(e.text))])})),a("p",{staticClass:"row2-price-box"},[a("span",{staticClass:"row2-price"},[a("span",{staticClass:"price-integer"},[t._v("￥"+t._s(t.data.price[0]))]),a("span",{staticClass:"price-decimals"},[t._v("."+t._s(t.data.price[1]))])]),a("span",{staticClass:"row2-market"},[t._v("￥"+t._s(t.data.marketPrice))])])],2)])])}),l=[],d={name:"vue-list-item",props:{data:Object},beforeMount:function(){},methods:{goNext:function(t){var e=t.currentTarget.dataset.id;this.$forward("couple_detail",{id:e})}}},p=d,u=(a("185c"),a("2877")),m=Object(u["a"])(p,n,l,!1,null,"1d815df6",null),g=m.exports,h=a("3e33"),b=a("2ddd"),v=a("6b9a"),_=a("79bb"),f=a("ed08");function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var C={normal:"https://img1.haoshiqi.net/miniapp/couple-search-list/category_normal_edc58e8934.png",select:"https://img1.haoshiqi.net/miniapp/couple-search-list/icon_selected_f4e98109b4.png",active:"https://img1.haoshiqi.net/miniapp/couple-search-list/category_down_60852c36b2.png"},w={sort:"",sortType:0,expiryDate:"",category:"",sortPriceType:"1",sortDiscountType:"1"},k={components:(i={},Object(o["a"])(i,_["c"].name,_["c"]),Object(o["a"])(i,_["b"].name,_["b"]),Object(o["a"])(i,g.name,g),Object(o["a"])(i,h["a"].name,h["a"]),Object(o["a"])(i,v["a"].name,v["a"]),Object(o["a"])(i,_["a"].name,_["a"]),i),mixins:[c["a"]],data:function(){return{tabs:[{text:"综合"},{text:"价格",topImg:C.normal,botImg:C.active},{text:"折扣",topImg:C.normal,botImg:C.active}],lastTab:{text:"效期",botImg:C.normal,topImg:C.active},sortList:["全部","1个月效期","2~3个月效期","4~5个月效期","6个月及以上效期"],icons:C.normal,iconSelected:C.select,showSort:!1,clickIndex:0,sortClickIndex:0,expiryIndex:0,searchHasExpiryDate:0,categoryList:[],seleCategoryIndex:-1,noResult:!1,swiperInfo:{},hasRecommendProduct:!1,totalCnt:0,isRecommend:!1,recommendList:[]}},computed:{title:function(){return this.$route.query.category||this.$route.query.q||"好食期"},indexListData:function(){var t=this;return{list:this.recommendList,eventClick:function(e){e.biz_id;var a=e.can_bought,i=e.left_stock,s=e.link;a&&i&&s&&t.$forward(s)}}}},created:function(){this.getListData()},beforeDestroy:function(){w={sort:"",sortType:0,expiryDate:"",category:"",sortPriceType:"1",sortDiscountType:"1"}},methods:{pullModel:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];this.$api.coupleSearchlist.apply(this,e)},initParams:function(){w=Object.assign(w,this.$route.query),this.isRecommend=!1,this.isLoading=!0,this.hasRecommendProduct=!1,this.pullParams.weights=1,this.pullParams=Object.assign({},this.pullParams,w,{frontCategoryId:w.categoryId})},getListData:function(){this.$showLoading(),this.initPullList(),this.initParams(),this.onScrollToLower()},afterPull:function(t){var e=t.data,a=e.list;if(this.isLoading=!1,(!a||a.length<=0)&&(this.noResult=!0),!(this.pullParams.pageNum>1)&&(delete this.pullParams.scope,delete this.pullParams.weights,e.category)){var i=e.banner,s=void 0===i?{}:i,r=e.category,o=void 0===r?[]:r,c=e.searchHasExpiryDate,n=e.totalCnt,l=void 0===n?0:n,d=Object(b["h"])(s.list||[],(function(t,e){return{image:t.image.url,url:t.link}})),p=100*(s.height/s.width).toFixed(2),u=s.height,m={list:d,paddingTop:p,goUrlPage:"goUrlPage",height:u},g=this.lastTab;g.botImg=1!=c?g.botImg:"https://img1.haoshiqi.net/miniapp/couple-search-list/category_disabled_533c061ded.png",this.lastTab=Object.assign({},g),this.searchHasExpiryDate=c,this.categoryList=o,this.swiperInfo=Object.assign({},m),this.totalCnt=l}},dealList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(b["h"])(e,(function(e){var a=0;return e.onLine?e.inStock||(a=2):a=1,{id:e.pinActivitiesId,title:e.coupleTitle||e.title,image:e.skuPic,thumbnail:e.thumbnail,market_price:Object(f["a"])(e.market_price||e.marketPrice),price:t.productPrice(Object(f["a"])(e.price||e.couplePrice)),isShowLootAll:a,tags:e.tags||[],inStock:e.inStock,onLine:e.onLine,endTime:e.endTime,showCountDownLimit:e.showCountDownLimit,remainTime:e.remainTime||"",merchantType:e.merchant_type,expired_date_text:e.expired_date_text_two,link:e.link}}))},productPrice:function(t){var e=t.split(".");return{price_yuan:e[0],price_fen:e[1]}},afterPullData:function(t){this.totalCnt<=20&&this.getRecommendProduct()},getRecommendProduct:function(){var t=this;this.$api.getCoupleList({personalization:!0,pageNum:1,pageLimit:20,needPagination:1},(function(e){var a=e.data,i=a.list;t.recommendList=t.dealRecList(i)}),(function(t){}))},dealRecList:function(t){var e=this;return Object(b["h"])(t,(function(t,a){var i=!t.onLine||!t.inStock;return x({},t,{id:t.pinActivitiesId,image:t.skuPic,thumbnail:t.thumbnail,market_price:(t.market_price/100).toFixed(2),price:e.productPrice(((t.price||t.couplePrice)/100).toFixed(2)),isShowLootAll:i,tags:t.tags||[],inStock:t.inStock,onLine:t.onLine,endTime:t.endTime,showCountDownLimit:t.showCountDownLimit,remainTime:t.remainTime||"",merchant_type:t.merchant_type,expired_date_text:t.expired_date_text_two})}))},goSearchText:function(t,e){this.seleCategoryIndex=e,w.category=t,this.getListData()},onClickTab:function(t){var e=t.currentTarget.dataset.index;if(e!=this.clickIndex||0!=e)if(e==this.clickIndex){var a=this.tabs[e].botImg==C.normal?C.active:C.normal,i=this.tabs[e].topImg==C.normal?C.active:C.normal;this.clickIndex=e,this.tabs[e].botImg=a,this.tabs[e].topImg=i;var s=w.sortPriceType,r=w.sortDiscountType;1==e?(w.sortPriceType="0"==s?"1":"0",w.sort="price",w.sortType=w.sortPriceType,this.getListData()):2==e&&(w.sortDiscountType="0"==r?"1":"0",w.sort="discount",w.sortType=w.sortDiscountType,this.getListData())}else{switch(this.clickIndex=e,e){case"0":w.sort="",w.sortType="";break;case"1":w.sort="price",w.sortType=w.sortPriceType;break;case"2":w.sort="discount",w.sortType=w.sortDiscountType;break}this.getListData()}},toggleViewSort:function(){1!=this.searchHasExpiryDate&&(this.showSort=!this.showSort)},onClickSort:function(t){var e=t.currentTarget.dataset.index,a=this.lastTab.botImg;switch(a=0==e?C.normal:C.active,e){case"0":w.expiryDate="";break;case"1":w.expiryDate=1;break;case"2":w.expiryDate=2;break;case"3":w.expiryDate=3;break;case"4":w.expiryDate=4;break}this.sortClickIndex=e,this.showSort=!1,this.expiryIndex=e,this.lastTab.botImg=a,this.getListData()}}},L=k,T=(a("f370"),Object(u["a"])(L,s,r,!1,null,"5a26832c",null));e["default"]=T.exports},f370:function(t,e,a){"use strict";var i=a("182e"),s=a.n(i);s.a}}]);